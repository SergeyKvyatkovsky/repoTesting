/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

plugins {
    id 'java'
    id 'war'
}

apply from:'custom.gradle'

group 'sergey'

version = 1
sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    compile group: 'log4j', name: 'log4j', version: '1.2.17'
    compile group: 'org.apache.commons', name: 'commons-io', version: '1.3.2'
}

 /**
 *  Create task to populate greetings.txt file with version (in build folder, not in src folder, always
 * included in build flow)
 */

classes.doLast {
        file('src/main/resources/greeting.txt').text = buildVersion
        ant.move file: "src/main/resources/greeting.txt",
                todir: "${buildDir}/resources/main/"
}



